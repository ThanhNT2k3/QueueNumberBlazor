<div class="form-group @ContainerClass">
    @if (!string.IsNullOrEmpty(Label))
    {
        <label class="form-label fw-semibold text-secondary small text-uppercase mb-1">@Label</label>
    }
    @if (Rows > 1)
    {
        <textarea class="form-control @InputClass" 
                  value="@Value" 
                  @onchange="OnValueChanged"
                  placeholder="@Placeholder" 
                  disabled="@Disabled"
                  rows="@Rows"></textarea>
    }
    else
    {
        <input type="@Type" 
               class="form-control @InputClass" 
               value="@Value" 
               @onchange="OnValueChanged"
               placeholder="@Placeholder" 
               disabled="@Disabled" />
    }
    @if (!string.IsNullOrEmpty(HelpText))
    {
        <div class="form-text">@HelpText</div>
    }
</div>

<style>
    .form-control {
        border-radius: 10px;
        border: 2px solid #e2e8f0;
        padding: 0.75rem 1rem;
        font-size: 14px;
        transition: all 0.3s ease;
    }

    .form-control:focus {
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        outline: none;
    }
    
    textarea.form-control {
        resize: none;
    }
</style>

@code {
    [Parameter] public string? Label { get; set; }
    [Parameter] public string? Value { get; set; }
    [Parameter] public EventCallback<string> ValueChanged { get; set; }
    [Parameter] public string Type { get; set; } = "text";
    [Parameter] public string Placeholder { get; set; } = "";
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public string InputClass { get; set; } = "";
    [Parameter] public string ContainerClass { get; set; } = "mb-3";
    [Parameter] public string? HelpText { get; set; }
    [Parameter] public int Rows { get; set; } = 1;

    private async Task OnValueChanged(ChangeEventArgs e)
    {
        Value = e.Value?.ToString();
        await ValueChanged.InvokeAsync(Value);
    }
}

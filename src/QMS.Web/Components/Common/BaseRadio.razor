<div class="form-check @ContainerClass @SizeClass">
    <input class="form-check-input" 
           type="radio" 
           id="@UniqueId"
           name="@Name"
           value="@Value"
           checked="@IsChecked" 
           @onchange="OnValueChanged"
           disabled="@Disabled">
    @if (!string.IsNullOrEmpty(Label))
    {
        <label class="form-check-label @LabelClass" for="@UniqueId">
            @Label
        </label>
    }
    @if (ChildContent != null)
    {
        <label class="form-check-label @LabelClass" for="@UniqueId">
            @ChildContent
        </label>
    }
</div>

<style>
    .form-check-input[type="radio"] {
        width: 1.25rem;
        height: 1.25rem;
        border: 2px solid #cbd5e1;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .form-check-input[type="radio"]:hover:not(:disabled) {
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .form-check-input[type="radio"]:checked {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-color: #667eea;
    }

    .form-check-input[type="radio"]:focus {
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        border-color: #667eea;
    }

    .form-check-input[type="radio"]:disabled {
        opacity: 0.5;
        cursor: not-allowed;
    }

    .form-check.radio-sm .form-check-input {
        width: 1rem;
        height: 1rem;
    }

    .form-check.radio-lg .form-check-input {
        width: 1.5rem;
        height: 1.5rem;
    }
</style>

@code {
    [Parameter] public string? SelectedValue { get; set; }
    [Parameter] public EventCallback<string> SelectedValueChanged { get; set; }
    [Parameter] public string? Value { get; set; }
    [Parameter] public string? Label { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string Name { get; set; } = Guid.NewGuid().ToString("N");
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public string LabelClass { get; set; } = "";
    [Parameter] public string ContainerClass { get; set; } = "";
    [Parameter] public string Size { get; set; } = "md"; // sm, md, lg

    private string UniqueId = Guid.NewGuid().ToString("N");
    private string SizeClass => Size != "md" ? $"radio-{Size}" : "";
    private bool IsChecked => SelectedValue == Value;

    private async Task OnValueChanged(ChangeEventArgs e)
    {
        await SelectedValueChanged.InvokeAsync(Value);
    }
}
